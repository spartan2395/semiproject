<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.board_fr.mapper">
	<!-- 게시판 전체 출력 -->
	<select id = "board_list" resultType="boardfrdto">
		SELECT BOARD_NO,ID_U,TITLE,CONTENT,REGDATE,VIEWS FROM BOARD_FR
		ORDER BY BOARD_NO DESC
	</select>
	
  	<!-- 게시판 제목 검색 -->
  	<select id = "board_search_list" parameterType="String" resultType="boardfrdto">
  		SELECT BOARD_NO,ID_U,TITLE,CONTENT,REGDATE,VIEWS FROM BOARD_FR
  		WHERE TITLE LIKE %#{title}%
  	</select>
  	
  	<!-- 게시판 상세정보 -->
  	<select id = "board_info" parameterType="int" resultType="boardfrdto">
  		SELECT BOARD_NO,ID_U,TITLE,CONTENT,REGDATE,VIEWS FROM BOARD_FR
  		WHERE BOARD_NO = #{board_no}
  	</select>
  	
  	<!-- 게시글 작성 -->
  	<insert id = "board_insert" parameterType="boardfrdto">
  		INSERT INTO BOARD_FR VALUES(BOARD_SEQ.NEXTVAL,#{id_u},#{title},#{content},SYSDATE,0)
  	</insert>
  	<!-- 게시글 수정 -->
  	<update id = "board_update_info" parameterType="boardfrdto">
  		UPDATE BOARD_FR SET TITLE = #{title} , CONTENT = #{content} WHERE BOARD_NO = #{board_no}
  	</update>
  	
  	<!-- 조회수 증가 -->
  	<update id = "board_update_views" parameterType="int">
  		UPDATE BOARD_FR SET COUNT = COUNT+1 WHERE BOARD_NO =  #{board_no}
  	</update>
  	
  	<!-- 게시글 삭제 -->
  	<delete id = "board_delete" parameterType="int">
  		DELETE FROM BOARD_FR WHERE BOARD_NO = #{board_no}
  	</delete>
</mapper>
